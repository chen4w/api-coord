(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{820:function(t,_,a){"use strict";a.r(_);var v=a(32),e=Object(v.a)({},(function(){var t=this,_=t.$createElement,a=t._self._c||_;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("此处接口存证方式需要用户自己来编写相应的代码。")]),t._v(" "),a("p",[t._v("推荐使用"),a("RouterLink",{attrs:{to:"/mid/"}},[t._v("接入中间件")]),t._v("进行接口存证，可大大减少用户代码量。")],1)]),t._v(" "),a("h2",{attrs:{id:"一、前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、前言"}},[t._v("#")]),t._v(" 一、前言")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("接口示例中并未引用一些Web框架，如Spring等，但注释中标注出一些可以使用单例的对象及配置。")]),t._v(" "),a("p",[t._v("若要提高代码效率等，需要使用者自己封装成Bean。")])]),t._v(" "),a("li",[a("p",[t._v("Http中的代码示例使用如下的接口定义内容，请使用者进行参考。")])]),t._v(" "),a("li",[a("p",[t._v("Http示例代码提供了yml文件进行配置，若配置数据量过大，推荐将配置持久化到数据库中。")])])]),t._v(" "),a("h2",{attrs:{id:"二、存证过程-概要"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、存证过程-概要"}},[t._v("#")]),t._v(" 二、存证过程-概要")]),t._v(" "),a("p",[t._v("首先，存证过程概要如下，主要为三个步骤：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/api-coord/img/save/save-process-simple.png",alt:"router"}})]),t._v(" "),a("blockquote",[a("p",[t._v("存证过程主要分为三个步骤：")]),t._v(" "),a("ol",[a("li",[t._v("对接口发起请求；")]),t._v(" "),a("li",[t._v("服务端对数据进行签名并返回数据；")]),t._v(" "),a("li",[t._v("提交给RepChain进行存证。")])])]),t._v(" "),a("h2",{attrs:{id:"三、存证过程-详细"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、存证过程-详细"}},[t._v("#")]),t._v(" 三、存证过程-详细")]),t._v(" "),a("blockquote",[a("p",[t._v("对上面概要进行详细说明，便于理解")])]),t._v(" "),a("h3",{attrs:{id:"_1-对接口发起请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-对接口发起请求"}},[t._v("#")]),t._v(" 1. 对接口发起请求")]),t._v(" "),a("ul",[a("li",[t._v("构建接口请求参数")]),t._v(" "),a("li",[t._v("对接口请求参数进行"),a("RouterLink",{attrs:{to:"/pages/e84ef5/#数据签名"}},[t._v("数据签名")])],1),t._v(" "),a("li",[t._v("构建区块链存证Header（请求头）")]),t._v(" "),a("li",[t._v("发送请求")])]),t._v(" "),a("h3",{attrs:{id:"_2-服务端对数据签名并返回数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-服务端对数据签名并返回数据"}},[t._v("#")]),t._v(" 2. 服务端对数据签名并返回数据")]),t._v(" "),a("ul",[a("li",[t._v("服务端接收到请求后进行业务处理，获取返回数据")]),t._v(" "),a("li",[t._v("对返回数据进行"),a("RouterLink",{attrs:{to:"/pages/e84ef5/#数据签名"}},[t._v("数据签名")])],1),t._v(" "),a("li",[t._v("将返回结果和"),a("RouterLink",{attrs:{to:"/pages/e84ef5/#数据签名"}},[t._v("数据签名")]),t._v("结果一同返回给客户端")],1)]),t._v(" "),a("h3",{attrs:{id:"_3-提交给repchain存证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-提交给repchain存证"}},[t._v("#")]),t._v(" 3.  提交给RepChain存证")]),t._v(" "),a("ul",[a("li",[t._v("获取服务端返回数据")]),t._v(" "),a("li",[t._v("构建需要存证的"),a("RouterLink",{attrs:{to:"/pages/e84ef5/#交易对象"}},[t._v("交易对象")])],1),t._v(" "),a("li",[t._v("提交存证的"),a("RouterLink",{attrs:{to:"/pages/e84ef5/#交易对象"}},[t._v("交易对象")]),t._v("给RepChain")],1),t._v(" "),a("li",[t._v("完成接口调用")])]),t._v(" "),a("h2",{attrs:{id:"四、验证权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、验证权限"}},[t._v("#")]),t._v(" 四、验证权限")]),t._v(" "),a("blockquote",[a("p",[t._v("权限验证各个系统会存在不同的方式进行验证，此处提供一个基于RepChain身份认证的权限认证。")]),t._v(" "),a("p",[t._v("通过对数据签名，调用方证书进行权限认证，认证通过则调用方拥有该接口调用权限。")]),t._v(" "),a("p",[t._v("此验证方式前提为调用方和服务方需要进行个人证书的交换，使双方都持有对方的证书，以便对签名数据进行数据验签。")])])])}),[],!1,null,null,null);_.default=e.exports}}]);