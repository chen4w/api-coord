---
title: HTTP单次异步请求
date: 2021-10-26 08:59:22
permalink: /pages/7c927c/
---

## 一、概述

!!! tip "提示"

    请使用[接入中间件](../../../04.接入中间件/01.1.0/01.前言.md)进行接口存证，可大大减少用户代码量。



> 异步请求，当调用服务方数据时，服务方需要有流程审批等原因，无法同步返回数据。此类情况需要在接口定义时，定义应答方接口规范，并让调用方进行接口实现。
>
> 此类情况则只完成两次[存证过程](../../01.前言.md#二、存证过程-概要)，调用方请求时需要存证，服务方应答调用方接口时同样也需要进行存证。

## 二、请求步骤

### **请求方**

> 由于是异步请求，请求方需要发送请求，并提供应答方调用接口，用于接收应答数据。

请求：

> 1. 构建请求数据
> 2. 对数据进行[数据签名](../../../01.开始/01.引言.md#数据签名)
> 3. 构建存证请求头
> 4. 发送请求数据到服务端，并接收返回结果
> 5. 构建[交易对象](../../../01.开始/01.引言.md#交易对象)
> 6. 提交给RepChain区块链

接收应答：

> 1. 获取请求参数及请求头信息
> 2. [数据验签](../../../01.开始/01.引言.md#数据验签)判断权限
> 3. 执行业务操作并构建返回数据结果
> 4. 对返回数据进行[数据签名](../../../01.开始/01.引言.md#数据签名)
> 5. 返回数据及签名信息给请求方

### **服务方**

接收请求：

> 1. 获取请求参数及请求头信息
> 2. [数据验签](../../../01.开始/01.引言.md#数据验签)判断权限
> 3. 将Header对象进行暂存，并构建已经收到请求的返回数据
> 4. 对返回数据进行[数据签名](../../../01.开始/01.引言.md#数据签名)
> 5. 返回数据及签名信息给请求方

应答调用方：

> 1. 从暂存数据中过去调用方发送的Header
> 2. 构建返回结果数据
> 3. 对数据进行[数据签名](../../../01.开始/01.引言.md#数据签名)
> 4. 构建存证请求头
> 5. 发送请求数据到应答接口，并接收返回结果
> 6. 构建[交易对象](../../../01.开始/01.引言.md#交易对象)
> 7. 提交给RepChain区块链

## 三、示例

!!! tip "提示"

    使用接入中间件进行HTTP[单次异步请求](../../../04.接入中间件/01.1.0/04.中间件客户端/03.异步请求.md)。


